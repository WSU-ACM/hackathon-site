<h1>Find A Team!</h1><br />

<h2>Ice Breaker / Teammaker Activity</h2>
<hr />
<p>
  <strong>Time:</strong> January <time datetime="2015-1-22T17:30">22th @ 5:30</time><br />
  <strong>Place:</strong> Sloan Hall Room 169
</p>
<br />

<h2>EECS WSU Hackathon Team Finder</h2>
<hr />

<p>Note: If you are a team captain who is are looking for teammates, and you team isn't showing up, follow the <a href="#directions">directions</a> at the bottom of the page to get your team listed.</p>

<section id="teams">
</section>

<br />

<h3 id="directions">Join Your Team || Switch Teams</h3>
Yes, we know you made a team, however, due to how Eventbrite works, you might not be a part of your team.
<ol class="numbered">
  <li>Log in to Eventbrite, and go to <strong>My Tickets</strong></li>
  <li>Under Current Orders, click <strong>View Order</strong> for EECS WSU Hackathon</li>
  <li>Click <strong>Transfer</strong></li>
  <li>Choose <strong>Team</strong></li>
  <li>Search for your team (or make one if you don't have one yet)</li>
  <li>Click <strong>Continue</strong> and after verifying the information is correct, click 
      <strong>Continue</strong> again 
      <br />//Don't worry, the ticket will still belong to you, you are just a member of your 
      team now</li>
</ol>

<br/>

<h3>Make Your Team Visibile</h3>
This only needs to be done by the team captain.
<ol class="numbered">
  <li>Follow steps 1 &amp; 2 of Join Your Team</li>
  <li>Click <strong>Edit</strong></li>
  <li>Where it says "Would you like to have your team listed on our Team finder page?", check the box.</li>
  <li>In the box below, describe the skills you are looking for, what you are wanting to do, or just have a 
      nice welcome message.</li>
</ol>

<br>

<script type="text/javascript">
  function getTeams() {
    $.getJSON("http://localhost:3000/teams",
     function(teams) {
      teams.forEach(addToDOM);
     });
  }
  function addToDOM(team) {
    console.log("Adding team: " + JSON.stringify(team));
    var teams = document.getElementById("teams");

    //Create tags
    var node = document.createElement("div");
    var captain_name = document.createElement("span");
    var captain_email = document.createElement("span");
    var team_name = document.createElement("div");
    var description = document.createElement("span");
    var contact = document.createElement("span");
    var body = document.createElement("div");

    // populate contact
    captain_name.innerHTML  = 'Captain: ' + team.captain.name;
    captain_name.className  = 'captain-name';
    captain_email.innerHTML = 'Email: ' + team.captain.email;
    captain_email.className  = 'captain-email';
    contact.appendChild(captain_name);
    contact.appendChild(captain_email);
    contact.className = "contact";

    // populate the description
    description.innerHTML = (team.description === null) ? 
      "N/A" : 
      team.description; 
    description.className = "description";

    // prep body
    body.appendChild(description);
    body.appendChild(contact);
    body.className = "body";

    // fill in name
    team_name.innerHTML = team.name;
    team_name.className = "name";

    // finishing touches
    node.appendChild(team_name);
    node.appendChild(body);
    node.className = "team";

    teams.appendChild(node);
  }

  getTeams();

</script>